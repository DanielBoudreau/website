<!DOCTYPE html>
<html lang="en">

<head>
 <title>
 JMRI: Linux Install Guide
 </title>
    <meta name="Author" content="Bob Jacobsen">
    <meta name="keywords" content="java model railroad JMRI install Linux">
    <!--#include virtual="/Style.shtml" -->
</head>

<body>
<!--#include virtual="/Header.shtml" -->
<div id="mBody">
<!--#include virtual="Sidebar.shtml" -->
  <div id="mainContent">

    <p class="noted">This page has been updated for JMRI 5 and Java 11.  For the original
    version that includes information back to JMRI 2, see the <a href="LinuxOld.shtml">original page</a>.
    Be aware that much of the information is obsolete.</p>

  <h1>JMRI Install Guide: Linux</h1>

    <p>There are multiple versions of Linux, all slightly different and requiring installation
    instructions that differ in detail.  There are specific pages describing details of installation
    for the following distributions.</p>

    <ul>
      <li><a href="Mint20.shtml">Mint 20</a> (no command line use)</li>
    </ul>

    <p>Some Linux distributions have associated repositories that make it easier to install software.</p>
    <ul>
      <li><a href="https://slackbuilds.org/apps/jmri/">Slackware</a></li>
    </ul>

    <h2>General JMRI Linux Install Procedure</h2>

    <p>The following steps provide general instructions for installing JMRI on Linux using the
    terminal command line along with brief GUI descriptions for some activities. It should work for
    most Debian and Red Hat based distributions.It has been tested on Mint 20.3, Ubuntu 22.04,
    Raspberry Pi OS and CentOS 9.  The serial connectons have been tested using the RR-CirKits
    <em>LCC Buffer-USB</em>.</p>

    <p>Note: The instructions use the standard tilde (~) shortcut to represent the users's home
    directory at <strong><em>/home/&lt;username&gt;</em></strong>.

    <h3>Install Java 11</h3>

    <p>Starting with JMRI 5.0, Java 11 is required.  See <a href="../java/index.shtml#linux_java">
    Install Java 11</a>.</p>

    <h3>Serial Port Access</h3>

    <p>The majority of JMRI layout connections are based on serial ports.  On recent hardware these
    are implemented using USB ports and a USB device such as the RR-CirKits <em>LCC Buffer-USB</em>.
    Most USB serial devices do not require the installation of drivers.  The Linux user running JMRI
    needs to have <strong>read/write</strong> access to the serial ports. The following command
    updates the user's group list with access to the serial ports.</p>

    <code>sudo usermod -a -G dialout ${USER}</code>

    <p>Do not change ${USER}.  That is a variable that contains the current user name.</p>

    <h3>Download JMRI</h3>

    <p>The JMRI Linux install package is a tar gzip file, <strong>tgz</strong>.  Click on
    <a href="../download/index.shtml#prod-rel">Download</a>.  This will redirect the browser to the
    latest production download page.  Click on the link for the Linux file.  If a different version,
    such as a test release, is desired, use the links in the sidebar to select the release note for
    that version.</p>

    <p>While at the download page, it is good idea to read the release note about the changes and
    any warnings.</p>

    <h3>Install JMRI</h3>

    <p>The JMRI package is a complete JMRI implementation.  There is no upgrade process. Any existing
    installs should be removed or renamed.</p>

    <p>If custom components have been added to a JMRI install, they will need to be copied somewhere
    safe before removing an old version.  To minimize the risk of losing custom components, they
    should be in the <strong>user files location</strong>.  Profiles and other user data is in the
    <strong>~/.jmri</strong> directory.</p>

    <p>The recommended install location is the user's <strong><em>home</em></strong> directory.
    This reduces the possibility of OS or other application issues.  The <strong>tar</strong> command is used to
    extract the JMRI directory.</p>

    <code>tar xzf &lt;file name&gt; -C ~</code>

    <p>Replace <strong><em>&lt;file name&gt;</em></strong> with the downloaded file name. The
    <strong><em>-C ~</em></strong> writes the output to the home directory.</p>

    <div class="noted">
      <p>The <strong>tar</strong> command works on all Linux distributions.  Most distributions also
      have a GUI tool to expand compressed tar files.  This is accessed using the file manager right
      click context menu for the downloaded tar file.</p>

      <dl>
        <dt>Mint</dt>
        <dd>
          <p><strong>Open With Archive Manager</strong> &mdash; When the archive opens, click on
          <strong>Extract</strong>.  The next page is used to select the destination, such as
          <strong>Home</strong>.  Then click on <strong>Extract</strong>.</p>

          <p><strong>Extract Here</strong> &mdash; Extracts JMRI to the current location. Move the
          extracted JMRI directory to the desired location or move the downloaded file first.</p>
        </dd>

        <dt>Ubuntu</dt>
        <dd>
          <p><strong>Open With Archive Manager</strong> &mdash; Same as Mint.</p>

          <p><strong>Extract Here</strong> &mdash; Extracts JMRI to the current location but within
          a new directory.  Open the directory and move the extracted JMRI directory to the desired
          location.</p>

          <p><strong>Extract To...</strong> &mdash; After selecting a destination location such as
          <strong>Home</strong>, extracts JMRI within a new directory.  Open the directory and move
          the extracted JMRI directory to the desired location.</p>
        </dd>

        <dt>CentOS</dt>
        <dd>
          <p><strong>Extract Here</strong> &mdash; Same as Ubuntu.</p>

          <p><strong>Extract To...</strong> &mdash; Same as Ubuntu.</p>
        </dd>

        <dt>Raspberry Pi OS</dt>
        <dd>
          <p><strong>Archiver</strong> &mdash; After the JMRI tar file is loaded, click on
          <strong>JMRI</strong> and then the Extract files <strong>icon</strong>.  Select the
          destination such as <strong>Home</strong> and click on <strong>Open</strong>.  Then click
          on <strong>Extract</strong>.</p>

          <p><strong>Extract Here</strong> &mdash; Same as Mint.</p>

          <p><strong>Extract To...</strong> &mdash; After selecting a destination location such as
          <strong>Home</strong>, click on <strong>Open</strong>.  Then click on <strong>Extract</strong>.</p>
        </dd>
      </dl>

    </div>

    <h4>Desktop Icons</h4>
      <p>Desktop icons are not required.  PanelPro and DecoderPro can be started by clicking on the
      scripts within the JMRI install in the file manager or from the command line.  For example:
      <code>~/JMRI/PanelPro</code></p>

      <h5>Mint</h5>

      <p>Use the create launcher desktop action.</p>
      <ol>
        <li>Right click on the desktop and select <strong>Create a new launcher here...</strong>.</li>
        <li>Enter the icon name.</li>
        <li>Use the <strong>Browse</strong> button to select the PanelPro or DecoderPro script in
        the JMRI directory.</li>
        <li>The Comment is optional.</li>
        <li>Leave <strong>Launch in Terminal</strong> unchecked.</li>
        <li>Click on the icon.</li>
        <li>Use the <strong>Browse</strong> button to find the icon in <strong>JMRI/resources</strong>.</li>
        <li>After selecting the icon, click on the icon in pallet and click on <strong>Select</strong>.</li>
        <li>Click <strong>OK</strong></li>
      </ol>

      <p>Note:  The following technique also works for Mint.</p>

      <h5>Others</h5>

      <p>The other distributions require a <strong>desktop</strong> file which defines the
      application. Use a text editor to create the DecoderPro and PanelPro files.  For Debian based
      distributions, the files are stored at <strong><em>~/Desktop</em></strong>. For Red Hat
      distributions, they are stored at <strong><em>~/.local/shared/applications</em></strong>.</p>

      <dl>
        <dt>DecoderPro.desktop</dt>
        <dd><pre>
[Desktop Entry]
Type=Application
Encoding=UTF-8
Name=DecoderPro
Comment=JMRI Decoder Pro
Icon=/home/&lt;username&gt;/JMRI/resources/decoderpro.gif
Exec=/home/&lt;username&gt;/JMRI/DecoderPro
Terminal=false;
        </pre></dd>

        <dt>PanelPro.desktop</dt>
        <dd><pre>
[Desktop Entry]
Type=Application
Encoding=UTF-8
Name=PanelPro
Comment=JMRI Panel Pro
Icon=/home/&lt;username&gt;/JMRI/resources/PanelPro.gif
Exec=/home/&lt;username&gt;/JMRI/PanelPro
Terminal=false;
        </pre></dd>
      </dl>

      <p>Change <strong>&lt;username&gt;</strong> to the actual user name.</p>

      <p>After the icons have been created they need to be made executable.  Note:  The desktop files
      on Raspberry Pi OS and CentOS do not need to be executable.</p>

      <ol>
        <li>Right click on the icon and select <strong>Properties</strong>.</li>
        <li>Select the <strong>Permissions</strong> tab.</li>
        <li>Enable <strong>Allow executing file as program</strong></li>
        <li>Click on <strong>Close</strong></li>
      </ol>

      <p class="noted">The icon setup only needs to be done on the first install.  The icons will
      continue to work when the JMRI install directory is replaced by a new download and extract.</p>

    <h3>Notes</h3>

    <p>The JMRI user data is located at <strong>~/.jmri</strong>.  This is a hidden directory.  Some
    applications ignore hidden directories.  The Linux file manager normally has an option to make
    the hidden directories visible.  A symbolic link can be used to provide a substitute reference.
    At the home directory, enter <code>ln -s .jmri jmri</code> in a terminal window.

    <p>The JMRI project is continuously adding features, bug fixes, examples and tutorials to the
    release, and so new "test" versions appear about once a month.  These are announced in the
    "JMRI users" Groups.io discussion group at
    <a href="https://groups.io/g/jmriusers">https://groups.io/g/jmriusers</a>.

    <p>Additional information can be found at the "<a href="FAQLinux.html">JMRI Linux FAQ page</a>".

    <!--#include virtual="/Footer.shtml" -->
    </div><!-- closes #mainContent-->
  </div> <!-- closes #mBody, started in sidebar-->
<script src="/js/main.js"></script>
</body>
</html>
